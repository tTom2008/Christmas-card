<!DOCTYPE html>

<html>

<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

<link rel="shortcut icon" href="imgs/favicon.ico" type="image/x-icon" />



<link rel="stylesheet" type="text/css" href="css/normalize.css" media="all" />

<link rel="stylesheet" type="text/css" href="css/jquery-ui.css" media="all" />

<link rel="stylesheet" type="text/css" href="css/style.css" media="all" />


<!-- T·∫£i script -->

<script type="text/javascript" src="js/jquery.js"></script>

<script type="text/javascript" src="js/jquery-ui.js"></script>

    <script type="text/javascript" src="js/howler.min.js"></script>

<script type="text/javascript" src="js/typed.js"></script>

<script type="text/javascript" src="js/ThreeCanvas.js"></script>

<script type="text/javascript" src="js/Snow.js"></script>

<script type="text/javascript" src="js/Custom.js"></script>


</head>

<body onLoad="loading();">

<!-- Hi·ªÉn th·ªã trong l√∫c ƒë·ª£i load -->

<div id="loading">

<div class="spinner">

        </div>

</div>
<script>
function loading() {
    // ƒê·ª£i 3 gi√¢y (3000ms) r·ªìi chuy·ªÉn trang ngay l·∫≠p t·ª©c
    setTimeout(function() { 
    }, 3000); 
}
</script>

</body>

</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merry Christmas</title>
    
    <link rel="stylesheet" type="text/css" href="css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    
    <style>
        body { background-color: #151522; overflow: hidden; display: flex; align-items: center; justify-content: center; margin: 0; }
        .container { width: 100%; min-height: 100vh; display: flex; justify-content: center; align-items: center; }
        button { cursor: pointer; position: relative; width: 250px; height: 250px; display: flex; justify-content: center; align-items: center; background: none; border: none; padding: 0; }
        button div { width: 100%; height: 100%; position: absolute; background: white; border-radius: 100%; filter: blur(150px); opacity: 0.4; }
        #box img { width: 100%; height: 100%; animation: mystery-box-animation 3s infinite ease-in-out; position: relative; z-index: 2; }
        
        @keyframes mystery-box-animation { 
            0%, 100% { transform: translateY(0); } 
            50% { transform: translateY(-30px); } 
        }
        
        .transition-background { position: fixed; left: 0; top: 0; width: 100%; height: 100%; background-color: #151522; transition: 2s; opacity: 0; z-index: -10; pointer-events: none; }
        .close { opacity: 1; z-index: 1000; }

        #loading { position: fixed; width: 100%; height: 100%; background: #151522; z-index: 9999; display: flex; justify-content: center; align-items: center; }
        .spinner { width: 50px; height: 50px; border: 5px solid #fff; border-top-color: transparent; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>

<body>
    <div id="loading">
        <div class="spinner"></div>
    </div>

    <div class="container">
        <button id="box">
            <div></div>
            <img src="imgs/mystery-box.png" alt="Gift Box">
        </button>
    </div>

    <div id="transition" class="transition-background"></div>

    <script src="js/jquery.js"></script>
    <script>
        // T·∫Øt m√†n h√¨nh loading khi trang t·∫£i xong
        window.addEventListener('load', function() {
            document.getElementById('loading').style.display = 'none';
        });

        // X·ª≠ l√Ω khi click v√†o h·ªôp qu√†
        document.getElementById('box').addEventListener('click', function () {
            document.getElementById('transition').classList.add('close');
            setTimeout(() => {
                // Chuy·ªÉn ƒë·∫øn trang noel1.html (ƒë√£ x√≥a .html th·ª´a)
            }, 1000); 
        });
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merry Christmas Greeting</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap');

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            background: #060606;
            display: flex; justify-content: center; align-items: center;
            overflow: hidden;
            color: white;
            font-family: 'Segoe UI', sans-serif;
        }

        #glass-card {
            position: relative;
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            padding: 40px;
            text-align: center;
            width: 85%;
            max-width: 600px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            z-index: 10;
            animation: floating 5s ease-in-out infinite;
        }

        input {
            width: 80%; padding: 12px; margin: 20px 0;
            border-radius: 10px; border: 1px solid #FFD700;
            background: rgba(255,255,255,0.1); color: white;
            text-align: center; font-size: 1.1rem; outline: none;
        }
        button {
            padding: 12px 30px; border-radius: 25px; border: none;
            background: linear-gradient(45deg, #FFD700, #B8860B);
            color: black; font-weight: bold; cursor: pointer; transition: 0.3s;
        }
        button:hover { transform: scale(1.05); box-shadow: 0 0 15px #FFD700; }

        .greeting-text {
            font-family: 'Dancing Script', 'Segoe UI', cursive;
            font-size: clamp(1.4rem, 4vw, 2.1rem);
            background: linear-gradient(135deg, #FFD700 0%, #FFF8DC 50%, #FFD700 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
            line-height: 1.6;
        }

        .sub-text {
            margin-top: 20px;
            font-size: 0.8rem;
            color: #666;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        @keyframes floating {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .snow-dot {
            position: absolute; background: white; border-radius: 50%; opacity: 0.5;
            pointer-events: none; animation: fall linear infinite;
        }
        @keyframes fall {
            to { transform: translateY(100vh); }
        }

        .typed-cursor {
            color: #FFD700;
        }
    </style>
</head>
<body>

    <div id="glass-card">
        <div id="input-area">
            <h2 style="color: #FFD700; font-family: 'Dancing Script'; font-size: 2.5rem;">Gi√°ng Sinh cu·ªëi c·∫•p, <br> B·∫°n t√™n l√† g√¨?</h2>
            <input type="text" id="nameInput" placeholder="Nh·∫≠p ƒë·∫ßy ƒë·ªß h·ªç v√† t√™n..." autocomplete="off">
            <br>
            <button onclick="startMagic()">Xem ƒëi·ªÅu b·∫•t ng·ªù</button>
        </div>

        <div id="display-area" style="display: none;">
            <div class="greeting-text" id="typed"></div>
            <div class="sub-text">A miracle is about to unfold...</div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js"></script>
<script>
        // H√†m l√†m s·∫°ch vƒÉn b·∫£n: B·ªè d·∫•u ti·∫øng Vi·ªát v√† chu·∫©n h√≥a v·ªÅ ch·ªØ th∆∞·ªùng
        function getCleanText(str) {
            if (!str) return "";
            str = str.replace(/√†|√°|·∫°|·∫£|√£|√¢|·∫ß|·∫•|·∫≠|·∫©|·∫´|ƒÉ|·∫±|·∫Ø|·∫∑|·∫≥|·∫µ/g, "a");
            str = str.replace(/√®|√©|·∫π|·∫ª|·∫Ω|√™|·ªÅ|·∫ø|·ªá|·ªÉ|·ªÖ/g, "e");
            str = str.replace(/√¨|√≠|·ªã|·ªâ|ƒ©/g, "i");
            str = str.replace(/√≤|√≥|·ªç|·ªè|√µ|√¥|·ªì|·ªë|·ªô|·ªï|·ªó|∆°|·ªù|·ªõ|·ª£|·ªü|·ª°/g, "o");
            str = str.replace(/√π|√∫|·ª•|·ªß|≈©|∆∞|·ª´|·ª©|·ª±|·ª≠|·ªØ/g, "u");
            str = str.replace(/·ª≥|√Ω|·ªµ|·ª∑|·ªπ/g, "y");
            str = str.replace(/ƒë/g, "d");
            return str.toLowerCase().trim();
        }

        function startMagic() {
            const fullName = document.getElementById('nameInput').value.trim();
            if (!fullName) {
                alert("H√£y nh·∫≠p t√™n nh√©!");
                return;
            }

            const cleanFull = getCleanText(fullName);
            const nameParts = fullName.split(/\s+/);
            const firstName = getCleanText(nameParts[nameParts.length - 1]);
            const fullID = cleanFull.replace(/\s+/g, "");

            let selectedWish = "";
            let userType = "lop"; // M·∫∑c ƒë·ªãnh l√† album l·ªõp

            // 1. KI·ªÇM TRA N·∫æU L√Ä TH·∫¶Y TU·∫§N ANH
            if (cleanFull.includes("tuan anh")) {
                userType = "thay"; // X√°c ƒë·ªãnh l√† album th·∫ßy
                selectedWish = `K√≠nh g·ª≠i Th·∫ßy Tu·∫•n Anh! üéÑ <br> C·∫£m ∆°n Th·∫ßy ƒë√£ d√¨u d·∫Øt ch√∫ng em su·ªët nƒÉm l·ªõp 12. ^500 <br> Ch√∫c Th·∫ßy Gi√°ng Sinh an l√†nh, d·ªìi d√†o s·ª©c kh·ªèe ƒë·ªÉ c√πng ch√∫ng em v·ªÅ ƒë√≠ch th√†nh c√¥ng! ‚ú®`;
            } 
            else {
                // 2. N·∫æU L√Ä H·ªåC SINH (CHIA NAM/N·ªÆ ƒê·ªÇ L·∫§Y L·ªúI CH√öC)
                userType = "lop"; // X√°c ƒë·ªãnh l√† album l·ªõp
                const listNuGoc = ["ngoc han", "my han", "thu huong", "bao ngoc", "nhu ngoc", "tieu phung", "minh thu", "thu trang", "ngoc tram", "cam tu", "thanh phuong"];
                const laNu = listNuGoc.some(tenNu => cleanFull.includes(tenNu));

                if (laNu) {
                    const wishesNu = [
                        `Ch√†o ${fullName}! ‚ùÑÔ∏è <br> Ch√∫c b·∫°n √¥n thi hi·ªáu qu·∫£, ƒë·ªó ƒë√∫ng nguy·ªán v·ªçng 1 nh√©! ‚ú®`,
                        `${fullName} ∆°i! üéÑ <br> Gi√°ng Sinh vui v·∫ª! Lu√¥n gi·ªØ v·ªØng phong ƒë·ªô h·ªçc t·∫≠p ƒë·ªÉ c√° ch√©p h√≥a r·ªìng! ‚ù§Ô∏è`,
                        `G·ª≠i ${fullName}, üéÅ <br> Noel ·∫•m √°p nh√©! Ch√∫c b·∫°n x·ª≠ g·ªçn ƒë·ªëng ƒë·ªÅ c∆∞∆°ng v√† ƒë·∫°t ƒëi·ªÉm cao! ‚ú®`,
                        `Merry Christmas, ${fullName}! ‚ùÑÔ∏è <br> Ch√∫c b·∫°n t·ª± tin ƒë·ªÉ v∆∞·ª£t qua c√°c k·ª≥ thi s·∫Øp t·ªõi th·∫≠t nh·∫π nh√†ng!`,
                        `Ch√∫c ${fullName} üåü <br> Lu√¥n r·∫°ng r·ª° v√† c·∫ßm ch·∫Øc t·∫•m v√© v√†o tr∆∞·ªùng ƒê·∫°i h·ªçc m∆° ∆∞·ªõc nh√©!`,
                        `${fullName} th√¢n m·∫øn! üéÑ <br> Noel cu·ªëi c·∫•p r·ªìi, x·∫£ stress m·ªôt ch√∫t r·ªìi quay l·∫°i chi·∫øn ƒë·∫•u th√¥i!`,
                        `Ch√†o ${fullName}! ‚ùÑÔ∏è <br> Ch√∫c b·∫°n h·ªçc gi·ªèi, thi t·ªët v√† lu√¥n l√† ni·ªÅm t·ª± h√†o c·ªßa l·ªõp!`,
                        `${fullName} √†! üéÅ <br> Noel vui v·∫ª, b·ªõt √°p l·ª±c l·∫°i v√† t·∫≠p trung cao ƒë·ªô ƒë·ªÉ th√†nh c√¥ng nh√©!`,
                        `G·ª≠i t·ªõi ${fullName}, ‚ù§Ô∏è <br> Ch√∫c b·∫°n m·ªôt m√πa ƒë√¥ng ·∫•m l√≤ng v√† thi c·ª≠ thu·∫≠n l·ª£i nh·∫•t!`,
                        `Merry Xmas, ${fullName}! üß∏ <br> Ch√∫c b·∫°n s·ªõm nh·∫≠n ƒë∆∞·ª£c tin vui ƒë·ªó ƒê·∫°i h·ªçc nh∆∞ mong ƒë·ª£i! ‚ú®`
                    ];
                    selectedWish = wishesNu[Math.floor(Math.random() * wishesNu.length)];
                } else {
                    const wishesNam = [
                        `Ch√†o ${fullName}! ‚ùÑÔ∏è <br> Noel ch√°y nh√©! Ch√∫c √¥ng thi ƒë√¢u ƒë·ªó ƒë√≥, phong ƒë·ªô v·ªØng v√†ng! ‚ú®`,
                        `${fullName} ∆°i! üéÑ <br> Gi√°ng Sinh an l√†nh! S·ªõm c√≥ "g·∫•u" s∆∞·ªüi ·∫•m v√† ƒë·ªó nguy·ªán v·ªçng 1! ‚ù§Ô∏è`,
                        `G·ª≠i ${fullName}, üéÅ <br> Ch√∫c √¥ng √¥n thi hi·ªáu qu·∫£, s·ªõm tr·ªü th√†nh T√¢n sinh vi√™n tr∆∞·ªùng Top! ‚ú®`,
                        `Merry Christmas, ${fullName}! ‚ùÑÔ∏è <br> M·∫°nh m·∫Ω l√™n, c√°nh c·ª≠a ƒê·∫°i h·ªçc ƒëang ch·ªù √¥ng chinh ph·ª•c!`,
                        `Ch√∫c ${fullName} üåü <br> Gi·ªØ v·ªØng b·∫£n lƒ©nh, h·ªçc t·∫≠p xuy√™n ƒë√™m v√† ƒë·ªó NV1 xu·∫•t s·∫Øc nh√©!`,
                        `Ch√†o chi·∫øn h·ªØu ${fullName}! üéÑ <br> Noel vui, t·∫≠p trung cao ƒë·ªô cho k·ª≥ thi s·∫Øp t·ªõi n√†o!`,
                        `Ch√∫c ${fullName} ‚ùÑÔ∏è <br> C√≥ m√πa Noel √Ω nghƒ©a v√† ƒë·∫°t ƒëi·ªÉm tuy·ªát ƒë·ªëi m√¥n s·ªü tr∆∞·ªùng!`,
                        `${fullName} th√¢n m·∫øn! üéÅ <br> Ngh·ªâ x·∫£ h∆°i ch√∫t r·ªìi quay l·∫°i "c√†y" ƒë·ªÉ h√≥a r·ªìng nh√©! üêâ`,
                        `G·ª≠i ${fullName}, ‚ù§Ô∏è <br> Ch√∫c √¥ng tr√†n ƒë·∫ßy nƒÉng l∆∞·ª£ng ƒë·ªÉ v∆∞·ª£t qua th·ª≠ th√°ch l·ªõp 12!`,
                        `Merry Xmas, ${fullName}! ü•Ç <br> N√¢ng ly cho t∆∞∆°ng lai r·∫°ng ng·ªùi ph√≠a tr∆∞·ªõc c·ªßa √¥ng!`,
                        `Ch√∫c ${fullName} üåü <br> May m·∫Øn lu√¥n ƒë·ªìng h√†nh trong t·ª´ng con s·ªë ƒë√™m nay!`,
                        `${fullName} √†! ‚ùÑÔ∏è <br> Ch√∫c ch√†ng trai l·ªõp m√¨nh ki√™n tr√¨ v·ªõi ƒëam m√™ v√† th√†nh c√¥ng!`,
                        `G·ª≠i ${fullName}, üéÅ <br> Ch√∫c √¥ng Noel ·∫•m, t√¢m th·∫ø v·ªØng ƒë·ªÉ chi·∫øn ƒë·∫•u thi c·ª≠!`,
                        `Merry Christmas, ${fullName}! üéÑ <br> Ch√∫c √¥ng h·ªçc gi·ªèi, ƒë·∫πp trai v√† s·ªõm th√†nh c√¥ng!`,
                        `Ch√∫c ${fullName} üéà <br> C√≥ nh·ªØng ph√∫t gi√¢y th∆∞ gi√£n th·∫≠t s·ª± tr∆∞·ªõc cu·ªôc ƒëua l·ªõn!`,
                        `Ch√†o ${fullName}! ‚ùÑÔ∏è <br> Noel an l√†nh! Ch√∫c √¥ng ƒë·∫°t k·∫øt qu·∫£ cao nh·∫•t k·ª≥ thi t·ªõi!`,
                        `${fullName} th√¢n m·∫øn! ‚ú® <br> Mong ph√©p m√†u Noel gi√∫p √¥ng ƒë·ªó v√†o tr∆∞·ªùng h·∫±ng mong ∆∞·ªõc!`,
                        `G·ª≠i ${fullName}, üß∏ <br> Ch√∫c √¥ng lu√¥n t·ª± tin, quy·∫øt ƒëo√°n trong m·ªçi b√†i thi!`,
                        `Merry Xmas, ${fullName}! üéÄ <br> C·∫£m ∆°n √¥ng ƒë√£ c√πng ƒë·ªìng h√†nh su·ªët 3 nƒÉm qua!`,
                        `Ch√∫c ${fullName} üåü <br> Noel ·∫•m, h·ªçc t·∫≠p b·ª©t ph√°, t∆∞∆°ng lai r·∫°ng ng·ªùi!`,
                        `Ch√†o ${fullName}! üéÑ <br> Ch√∫c √¥ng b·∫£n lƒ©nh nh∆∞ chi·∫øn binh, ƒë·ªó tr∆∞·ªùng Top nh√©!`,
                        `${fullName} ∆°i! ‚ùÑÔ∏è <br> Noel vui v·∫ª! Lu√¥n l·∫°c quan v√† y√™u ƒë·ªùi nh∆∞ th·∫ø nh√©!`,
                        `G·ª≠i t·ªõi ${fullName}, ‚ù§Ô∏è <br> Ch√∫c √¥ng tr∆∞·ªüng th√†nh v√† v·ªØng v√†ng tr√™n con ƒë∆∞·ªùng ƒë√£ ch·ªçn!`,
                        `Merry Christmas, ${fullName}! üéÅ <br> Nh·∫≠n s·ªõm gi·∫•y b√°o nh·∫≠p h·ªçc l√†m qu√† Noel nh√©!`,
                        `Ch√∫c ${fullName} üåü <br> B·ª©t ph√° m·∫°nh m·∫Ω v√† g·∫∑t h√°i th√†nh c√¥ng ngo√†i mong ƒë·ª£i!`,
                        `Ch√†o ${fullName}! üé† <br> Noel an l√†nh! Gi·ªØ v·ªØng tinh th·∫ßn ƒë·ªÉ chi·∫øn th·∫Øng k·ª≥ thi!`,
                        `${fullName} th√¢n m·∫øn! üïØÔ∏è <br> Mong √°nh s√°ng Noel soi l·ªëi cho √¥ng ƒëi ƒë·∫øn th√†nh c√¥ng!`,
                        `G·ª≠i ${fullName}, ‚ú® <br> Ch√∫c √¥ng m·ªôt m√πa ƒë√¥ng ·∫•m l√≤ng b√™n nh·ªØng ng∆∞·ªùi th√¢n th∆∞∆°ng!`,
                        `Merry Xmas, ${fullName}! üöÄ <br> Ti·∫øn v·ªÅ ph√≠a tr∆∞·ªõc, th√†nh c√¥ng ƒëang ch·ªù √¥ng!`,
                        `Ch√∫c ${fullName} ü•Ç <br> M·ªôt ƒë√™m Gi√°ng Sinh tuy·ªát v·ªùi v√† ƒë·∫ßy d·ª± ƒë·ªãnh m·ªõi m·∫ª!`
                    ];
                    selectedWish = wishesNam[Math.floor(Math.random() * wishesNam.length)];
                }
            }

            // L∆ØU D·ªÆ LI·ªÜU V√ÄO M√ÅY
            localStorage.setItem('visitorName', firstName);
            localStorage.setItem('visitorID', fullID);
            localStorage.setItem('userType', userType); // QUAN TR·ªåNG: L∆∞u lo·∫°i l√† 'thay' ho·∫∑c 'lop'

            // Hi·ªáu ·ª©ng chuy·ªÉn c·∫£nh
            document.getElementById('input-area').style.display = 'none';
            document.getElementById('display-area').style.display = 'block';

            new Typed('#typed', {
                strings: [selectedWish],
                typeSpeed: 45,
                showCursor: true,
                onComplete: function() {
                    setTimeout(function() {
                        $('body').fadeOut(1000, function() { 
                        });
                    }, 3500);
                }
            });
        }

        // Tuy·∫øt r∆°i (gi·ªØ nguy√™n)
        $(document).ready(function() {
            for (let i = 0; i < 60; i++) {
                let dot = document.createElement('div');
                dot.className = 'snow-dot';
                dot.style.left = Math.random() * 100 + 'vw';
                dot.style.top = -10 + 'px';
                dot.style.width = dot.style.height = Math.random() * 3 + 2 + 'px';
                dot.style.animationDuration = Math.random() * 3 + 5 + 's';
                dot.style.animationDelay = Math.random() * 5 + 's';
                document.body.appendChild(dot);
            }
        });
    </script>
  
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merry Christmas - Video</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: #000; /* N·ªÅn ƒëen ƒë·ªÉ video n·ªïi b·∫≠t */
            overflow: hidden;
        }
        #main {
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #video_url {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Video tr√†n m√†n h√¨nh kh√¥ng b·ªã m√©o */
        }
        /* Hi·ªáu ·ª©ng m·ªù d·∫ßn khi chuy·ªÉn trang */
        .fade-out {
            opacity: 0;
            transition: opacity 1.5s ease;
        }
    </style>
</head>
<body>
    <div id="main">
        <video src="./assets/2.mp4" id="video_url" autoplay="autoplay"></video>
    </div>

<script type="text/javascript">
    $(function(){
        var video = document.getElementById("video_url");
        
        // ƒê·∫£m b·∫£o video b·∫Øt ƒë·∫ßu ph√°t
        video.play().catch(function(error) {
            console.log("Tr√¨nh duy·ªát ch·∫∑n t·ª± ƒë·ªông ph√°t, c·∫ßn t∆∞∆°ng t√°c ng∆∞·ªùi d√πng.");
        });

        // B∆Ø·ªöC QUAN TR·ªåNG: Khi video k·∫øt th√∫c
        video.onended = function() {
            // Th√™m hi·ªáu ·ª©ng m·ªù d·∫ßn tr∆∞·ªõc khi chuy·ªÉn
            $("body").addClass("fade-out");

            setTimeout(function() {
                // CHUY·ªÇN SANG TRANG TI·∫æP THEO (Thay ƒë·ªïi t√™n file t·∫°i ƒë√¢y) 
            }, 1000); // Ch·ªù 1.5 gi√¢y cho hi·ªáu ·ª©ng m·ªù xong
        };
    });
</script>
</body>
</html>
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merry Christmas - Interactive AR</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
    <style>
        body { margin: 0; overflow: hidden; background-color: #000; font-family: 'Segoe UI', sans-serif; }
        #canvas-container { width: 100%; height: 100vh; display: block; }
        #ui-layer { position: absolute; bottom: 30px; width: 100%; text-align: center; pointer-events: none; z-index: 100; }
        .badge { display: inline-block; background: rgba(0,0,0,0.7); border: 2px solid #FFD700; color: #FFD700; padding: 10px 25px; border-radius: 50px; font-size: 18px; font-weight: bold; margin-bottom: 10px; box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); }
        .guide { color: #ccc; font-size: 13px; margin-bottom: 20px; text-shadow: 0 2px 4px black;}
        button { pointer-events: auto; cursor: pointer; background: linear-gradient(to bottom, #D32F2F, #8B0000); color: #FFF; border: 2px solid #FFD700; padding: 15px 50px; border-radius: 30px; font-weight: 800; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        #camera-preview { position: absolute; top: 15px; right: 15px; width: 120px; height: 90px; border: 2px solid rgba(255,0,0,0.5); transform: scaleX(-1); opacity: 0.6; border-radius: 8px; }
    </style>
</head>
<body>
    <div id="ui-layer">
        <div id="status" class="badge">üéÑ Ch·ªù kh·ªüi ƒë·ªông... üéÑ</div>
        <div class="guide">üñê <b>X√≤e:</b> Xoay | üëå <b>Pinch:</b> Xem ·∫£nh | ‚úä <b>N·∫Øm:</b> Thu c√¢y | ‚úåÔ∏è <b>S·ªë 2:</b> ƒê·ªïi 5 ·∫£nh m·ªõi</div>
        <button id="btnStart" onclick="startSystem()">B·∫ÆT ƒê·∫¶U</button>
    </div>
    <div id="canvas-container"></div>
    <video class="input_video" style="display:none"></video>
    <canvas id="camera-preview"></canvas>

    <script>
        const MUSIC_URL = "./audio.mp3";
        let bgMusic = new Audio(MUSIC_URL); bgMusic.loop = true;

        const loader = new THREE.TextureLoader();
        loader.setCrossOrigin('anonymous'); 

        // 1. T·ª∞ ƒêI·ªÄN DANH S√ÅCH ·∫¢NH T·∫†I ƒê√ÇY
        const allPhotos = ["https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img.jpeg"];
        for (let i = 1; i <= 80; i++) {
            // B·∫°n h√£y t·ª± s·ª≠a ƒëu√¥i .JPG ho·∫∑c .jpg ·ªü d√≤ng d∆∞·ªõi ƒë√¢y cho kh·ªõp v·ªõi GitHub
            allPhotos.push(
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img.jpeg",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(1).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(2).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(3).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(4).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(5).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(6).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(7).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(8).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(9).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(10).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(11).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(12).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(13).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(14).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(15).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(16).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(17).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(18).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(19).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(20).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(21).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(22).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(23).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(24).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(25).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(26).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(27).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(28).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(29).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(30).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(31).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(32).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(33).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(34).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(35).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(36).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(37).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(38).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(39).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(40).jpg",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(41).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(42).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(43).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(44).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(45).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(46).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(47).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(48).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(49).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(50).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(51).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(52).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(53).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(54).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(55).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(56).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(57).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(58).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(59).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(60).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(61).jpg",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(62).jpg",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(63).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(64).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(65).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(66).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(67).jpg",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(68).jpg",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(69).jpg",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(70).jpg",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(71).jpg",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(72).jpg",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(73).jpg",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(74).jpg",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(75).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(76).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(77).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(78).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(79).JPG",
    "https://raw.githubusercontent.com/tTom2008/Noel-Picture/main/Img%20(80).JPG"
);
        }

        let photoMeshes = [];
        let canRefresh = true;

        function get5RandomPhotos() {
            return [...allPhotos].sort(() => 0.5 - Math.random()).slice(0, 5);
        }

        // H√†m c·∫≠p nh·∫≠t ·∫£nh ƒë∆°n gi·∫£n (L·∫•y tr·ª±c ti·∫øp link b·∫°n ƒë√£ ƒëi·ªÅn)
        function refreshPhotos() {
            const newFiles = get5RandomPhotos();
            newFiles.forEach((src, i) => {
                if (photoMeshes[i]) {
                    loader.load(src, (tex) => {
                        if (photoMeshes[i].material.map) photoMeshes[i].material.map.dispose();
                        photoMeshes[i].material.map = tex;
                        photoMeshes[i].material.needsUpdate = true;
                    }, undefined, (err) => {
                        console.error("L·ªói t·∫£i ·∫£nh (H√£y ki·ªÉm tra l·∫°i ƒëu√¥i file): " + src);
                    });
                }
            });
        }

        function createCustomTexture(type) {
            const canvas = document.createElement('canvas'); canvas.width = 128; canvas.height = 128;
            const ctx = canvas.getContext('2d');
            if (type === 'gold_glow') {
                const grd = ctx.createRadialGradient(64, 64, 0, 64, 64, 40);
                grd.addColorStop(0, '#FFFFFF'); grd.addColorStop(0.5, '#FFD700'); grd.addColorStop(1, 'rgba(0,0,0,0)');
                ctx.fillStyle = grd; ctx.fillRect(0,0,128,128);
            } else if (type === 'red_light') {
                const grd = ctx.createRadialGradient(64, 64, 0, 64, 64, 50);
                grd.addColorStop(0, '#FFAAAA'); grd.addColorStop(0.3, '#FF0000'); grd.addColorStop(1, 'rgba(0,0,0,0)');
                ctx.fillStyle = grd; ctx.fillRect(0,0,128,128);
            } else if (type === 'gift_red') {
                ctx.fillStyle = '#D32F2F'; ctx.fillRect(20, 20, 88, 88);
                ctx.fillStyle = '#FFD700'; ctx.fillRect(54, 20, 20, 88); ctx.fillRect(20, 54, 88, 20);
            }
            return new THREE.CanvasTexture(canvas);
        }

        const textures = { gold: createCustomTexture('gold_glow'), red: createCustomTexture('red_light'), gift: createCustomTexture('gift_red') };
        const CONFIG = { goldCount: 2000, redCount: 200, giftCount: 100 };

        let scene, camera, renderer, groupGold, groupRed, groupGift, titleMesh, starMesh;
        let state = 'TREE', selectedIndex = 0, handX = 0.5;
        let rotationAngle = 0, rotationVelocity = 0.005;

        function init3D() {
            const container = document.getElementById('canvas-container');
            scene = new THREE.Scene(); scene.fog = new THREE.FogExp2(0x000000, 0.002);
            camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
            camera.position.z = 100;
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            container.appendChild(renderer.domElement);

            groupGold = createParticleSystem('gold', CONFIG.goldCount, 2.0);
            groupRed = createParticleSystem('red', CONFIG.redCount, 3.5);
            groupGift = createParticleSystem('gift', CONFIG.giftCount, 3.0);
            
            createPhotos(); 
            createDecorations(); 
            refreshPhotos(); 
            animate();
        }

        function createParticleSystem(type, count, size) {
            const pPos = [], pExp = [], pTree = [];
            for(let i=0; i<count; i++) {
                const h = Math.random() * 70, y = h - 35, maxR = (1 - (h / 70)) * 35;
                const r = maxR * (type === 'gold' ? Math.sqrt(Math.random()) : 1), theta = Math.random() * Math.PI * 2;
                pTree.push(r * Math.cos(theta), y, r * Math.sin(theta));
                const phi = Math.acos(2 * Math.random() - 1), lam = 2 * Math.PI * Math.random(), rad = 65 * Math.cbrt(Math.random());
                pExp.push(rad * Math.sin(phi) * Math.cos(lam), rad * Math.sin(phi) * Math.sin(lam), rad * Math.cos(phi));
                pPos.push(pTree[3*i], y, pTree[3*i+2]);
            }
            const geo = new THREE.BufferGeometry();
            geo.setAttribute('position', new THREE.Float32BufferAttribute(pPos, 3));
            geo.userData = { tree: pTree, explode: pExp };
            const mat = new THREE.PointsMaterial({ size, map: textures[type], transparent: true, blending: type==='gift'?1:2, depthWrite: false });
            const pts = new THREE.Points(geo, mat); scene.add(pts); return pts;
        }

        function createPhotos() {
            const geo = new THREE.PlaneGeometry(12, 12);
            for(let i=0; i < 5; i++) {
                const mat = new THREE.MeshBasicMaterial({ side: 2, transparent: true, opacity: 0 });
                const mesh = new THREE.Mesh(geo, mat); mesh.visible = false; scene.add(mesh); photoMeshes.push(mesh);
            }
        }

        function createDecorations() {
            const canvas = document.createElement('canvas'); canvas.width = 1024; canvas.height = 256;
            const ctx = canvas.getContext('2d'); ctx.font = 'bold italic 90px "Times New Roman"';
            ctx.fillStyle = '#FFD700'; ctx.textAlign = 'center'; ctx.shadowColor = "#FF0000"; ctx.shadowBlur = 40;
            ctx.fillText("MERRY CHRISTMAS", 512, 130);
            titleMesh = new THREE.Mesh(new THREE.PlaneGeometry(60, 15), new THREE.MeshBasicMaterial({ map: new THREE.CanvasTexture(canvas), transparent: true, blending: 2 }));
            titleMesh.position.y = 50; scene.add(titleMesh);
            starMesh = new THREE.Mesh(new THREE.PlaneGeometry(12, 12), new THREE.MeshBasicMaterial({ map: textures.gold, transparent: true, blending: 2 }));
            starMesh.position.y = 40; scene.add(starMesh);
        }

        function animate() {
            requestAnimationFrame(animate);
            const time = Date.now() * 0.001;
            const targetVelocity = 0.005 + ((handX - 0.5) * 0.1);
            rotationVelocity += (targetVelocity - rotationVelocity) * 0.1; 
            rotationAngle += rotationVelocity; 

            [groupGold, groupRed, groupGift].forEach(g => {
                const pos = g.geometry.attributes.position.array;
                const targets = g.geometry.userData[state === 'TREE' ? 'tree' : 'explode'];
                for(let i=0; i<pos.length; i++) pos[i] += (targets[i] - pos[i]) * 0.08;
                g.geometry.attributes.position.needsUpdate = true;
                if (state === 'TREE') g.rotation.y += 0.005;
                else g.rotation.y = rotationAngle;
            });

            if (state === 'TREE') {
                titleMesh.visible = starMesh.visible = true;
                photoMeshes.forEach(m => { m.visible = false; });
            } else {
                titleMesh.visible = starMesh.visible = false;
                const step = (Math.PI * 2) / 5;
                let maxZ = -999, candidate = selectedIndex;

                photoMeshes.forEach((mesh, i) => {
                    mesh.visible = true;
                    const angle = rotationAngle + i * step;
                    const x = Math.sin(angle) * 45, z = Math.cos(angle) * 45;

                    if (state === 'EXPLODE') {
                        if (z > maxZ) { maxZ = z; candidate = i; }
                        mesh.position.lerp(new THREE.Vector3(x, Math.sin(time + i) * 2, z), 0.1);
                        mesh.scale.lerp(new THREE.Vector3(1.5, 1.5, 1.5), 0.1);
                        mesh.material.opacity = THREE.MathUtils.lerp(mesh.material.opacity, (z > 20 ? 1 : 0.3), 0.1);
                    }
                    mesh.lookAt(camera.position);
                });

                if (state === 'EXPLODE') selectedIndex = candidate;

                photoMeshes.forEach((mesh, i) => {
                    if (state === 'PHOTO' && i === selectedIndex) {
                        mesh.position.lerp(new THREE.Vector3(0, 0, 50), 0.1);
                        mesh.scale.lerp(new THREE.Vector3(6, 6, 6), 0.1); mesh.material.opacity = 1;
                    } else if (state === 'PHOTO') {
                        mesh.material.opacity = THREE.MathUtils.lerp(mesh.material.opacity, 0.1, 0.1);
                        mesh.scale.lerp(new THREE.Vector3(0.5, 0.5, 0.5), 0.1);
                    }
                });
            }
            renderer.render(scene, camera);
        }

        function startSystem() {
            document.getElementById('btnStart').style.display = 'none'; bgMusic.play(); init3D();
            const video = document.querySelector('.input_video'), canvas = document.getElementById('camera-preview'), ctx = canvas.getContext('2d'), statusDiv = document.getElementById('status');
            const hands = new Hands({locateFile: (file) => `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}`});
            hands.setOptions({ maxNumHands: 1, modelComplexity: 0, minDetectionConfidence: 0.5, minTrackingConfidence: 0.5 });
            
            hands.onResults(results => {
                ctx.clearRect(0,0,120,90); ctx.drawImage(results.image, 0, 0, 120, 90);
                if(results.multiHandLandmarks.length > 0) {
                    const lm = results.multiHandLandmarks[0];
                    handX = lm[9].x; 
                    
                    const avgDist = [8,12,16,20].reduce((sum, i) => sum + Math.hypot(lm[i].x-lm[0].x, lm[i].y-lm[0].y), 0) / 4;
                    const pinchDist = Math.hypot(lm[4].x-lm[8].x, lm[4].y-lm[8].y);
                    
                    const isForeUp = lm[8].y < lm[7].y, isMiddleUp = lm[12].y < lm[11].y;
                    const isRingDown = lm[16].y > lm[15].y, isPinkyDown = lm[20].y > lm[19].y;

                    if (isForeUp && isMiddleUp && isRingDown && isPinkyDown) {
                        if (canRefresh) {
                            statusDiv.innerText = "‚úåÔ∏è ƒêang b·ªëc 5 ·∫£nh m·ªõi...";
                            refreshPhotos(); canRefresh = false;
                            setTimeout(() => { canRefresh = true; }, 2000);
                        }
                    } else if (avgDist < 0.2) { 
                        state = 'TREE'; statusDiv.innerText = "‚úä ƒêang thu c√¢y"; 
                    } else if (pinchDist < 0.05) { 
                        state = 'PHOTO'; statusDiv.innerText = "üëå ƒêang xem ·∫£nh"; 
                    } else { 
                        state = 'EXPLODE'; statusDiv.innerText = "üñê Di chuy·ªÉn tay ƒë·ªÉ xoay"; 
                    }
                } else { 
                    state = 'TREE'; handX = 0.5; statusDiv.innerText = "üéÑ Ch·ªù b√†n tay..."; 
                }
            });
            new Camera(video, { onFrame: async () => { await hands.send({image: video}); }, width: 320, height: 240 }).start();
        }
    </script>
</body>
</html>